{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="description" content="{{ website_data.description }}">
    <meta name="keywords" content="{{ website_data.keywords }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ website_data.title }}</title>
    
    <link rel="canonical" href="{% url 'ai-team' context='main' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Bootstrap CSS -->
    <link href={% static "css/style_chat.css" %} rel="stylesheet"> 
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href={% static "css/style_chat.css" %} rel="stylesheet"> 
    <link href={% static "css/style_cards.css" %} rel="stylesheet"> 
    <script src={% static 'js/landing.js' %} ></script> 
    <script src={% static 'js/interactions-users-messages.js' %} ></script> 
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<!--mensaje predefinido-->

<body data-language-prefix="{{ LANGUAGE_CODE }}"></body>
<!-- Menu -->

<div class="chat-header d-flex justify-content-between align-items-center px-3 py-2 glass">
    <div class="nav-container nav-container d-flex align-items-center">
        <!-- Asegúrate de que el checkbox tiene el id correcto -->
        <input class="checkbox" type="checkbox" id="hamburgerToggle" />
        <!-- Vincula el label (hamburger-lines) con el checkbox mediante el atributo "for" -->
        <label class="hamburger-lines" for="hamburgerToggle">
            <i class="bi bi-list"></i>
        </label>
            <!-- Añade esta línea para el menú -->
        <div class="menu-items glass" > <!-- Ajusta la posición vertical -->
    
            <ul>
                <li cy-data="home-link" ><a href="{% url 'ai-team' context='main' %}" title="Main page of AI Team Chat"><h2 class="reset-styles" >AI - Team</h2></a></li>
                {% for item in website_data.list_items %}
                    <li><a href="{{ item.url }}" title="{{ item.text }}"><h2 class="reset-styles">{{ item.text }}</h2></a></li>
                {% endfor %}
            </ul>
        
        </div>
        <h1 class="chat-title has-text-centered" style="line-height: 1.1;">{{ website_data.header }} </h1>
    </div>
</div>  




        <div class="container px-4" style="padding-top: 10rem; padding-bottom: 10rem; ">    
                    <div class="columns is-multiline">
            
                        <div class="column is-full">
                                                                <!-- Message -->
                                                                <div id="chatBox">
                                                                    <div class="card card_background_static" >
                                                                        <div class="card-content">
                                                                            <h2 class="title is-4 title_card">{{ website_data.header }}</h2>
                                                                            <p class="message-content" >
                                                                                {{ website_data.default_message }}               
                                                                            </p>   
                                                                        </div>
                                                                            <footer class="card-footer" style="border-top: none; background-color: transparent;" >
                                                                                <div style="display: flex; align-items: center;">
                                                                                    <button class="is-small no-border no-outline" style="margin-left: 1rem;" title="Copiar"> 
                                                                                            <span class="icon is-small">
                                                                                                <i class="fas fa-clipboard"></i>
                                                                                        </span>
                                                                                    </button>
                                                                                    <button class=" is-small no-border no-outline"  style="margin-left: 1rem;" title="Me gusta"> 
                                                                                        <span class="icon is-small">    
                                                                                            <i class="fas fa-thumbs-up"></i>
                                                                                            
                                                                                        </span>
                                                                                    </button>
                                                                                    <button class=" is-small no-border no-outline"  style="margin-left: 1rem;" title="No me gusta"> 
                                                                                        <span class="icon is-small">    
                                                                                            
                                                                                            <i class="fas fa-thumbs-down"></i>
                                                                                        </span>
                                                                                    </button>
                                                                                </div>
                                                                            </footer>
                                                                    </div>
                                                                    
                                                                </div>  
                            
                       </div>                
                            
                        
                    </div>            
        </div>
    
                        
                        <!-- Input Text  -->
                <div class="chat-footer" style="margin: 2rem;">
                    <div class="loading-dots-container">
                        <div class="loading-dots">
                            <span class="dot dot-1"></span>
                            <span class="dot dot-2"></span>
                            <span class="dot dot-3"></span>
                        </div>
                    </div>
                    <div class="columns is-mobile is-centered is-vcentered" style="border-radius: 20px">
                        <div class="column is-full-mobile is-full-tablet is-full-desktop no-padding-footer">
                            <div class="field is-grouped">
                                <div class="buttons-container">
                                    
                                    {% if context_value == 'panel-admin' or context_value == 'main' %}
                                        <!-- Input escondido para subir archivos -->
                                        <input type="file" style="display: none;" id="fileInput" name="uploaded_files" accept=".pdf,.txt,.png" onchange="uploadFile(event)">
                                        <label for="fileInput" style="background: none; border: none; cursor: pointer; " class="button btn-send">
                                            <i class="fa-sharp fa-solid fa-paperclip" style="padding-left: 2px;"></i> <!-- Icono de cargar archivo -->
                                        </label>
                                    {% endif %}
                                </div>
                                <div class="textarea-container" >
                                    <textarea class="form_input" style="resize: none; outline: none; border: none;" id="userMessage" placeholder="Send a message..." onkeydown="handleKeyDown(event, '{{context_value}}')"></textarea>
                                </div>
                                <div class="buttons-container">
                                    <div class="control">
                                        <button class="button btn-send" style="background: none; border: none; cursor: pointer; " onclick="sendMessageStream()">
                                            <i class="fas fa-paper-plane"></i> <!-- Icono de enviar mensaje -->
                                        </button>
                                    </div>
                                
                                </div>
                            </div>
                        </div>
                    </div>
                </div>            
    {% include "hidden-ai-team.html" %}


</body>
    
    <script src={% static 'js/landing.js' %} ></script> 
    <script src={% static 'js/interactions-users-messages.js' %} ></script> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        var currentContext = "{{ context_value }}";  
        
    </script>
</html>